<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="template" content="_Code.htt" />
<meta name="generator" content="Adobe RoboHelp 11" />
<title>code_GetGuestCall</title>
<link rel="StyleSheet" href="..\..\code.style.css" type="text/css" />
</head>

<body>
<?rh-placeholder type="header" ?>
<p>&#160;</p>
<!-- HTML generated using hilite.me --><div>
	<pre style="margin: 0;">
<span style="color: #0000aa;">private</span> GuestCalls <span style="color: #00aa00;">GetGuestCall</span>(<span style="color: #00aaaa;">bool</span> isEUChecked, <span style="color: #00aaaa;">bool</span> isBDChecked, <span style="color: #00aaaa;">bool</span> isWeddingChecked, <span style="color: #00aaaa;">bool</span> isSpouseDOBChecked, <span style="color: #00aaaa;">bool</span> is4Checked, <span style="color: #00aaaa;">bool</span> is6MonthChecked, <span style="color: #00aaaa;">bool</span> is8Checked, <span style="color: #00aaaa;">bool</span> isExpDateChecked, DateTime beforeEU, DateTime afterEU, DateTime beforeBD, DateTime afterBD, DateTime beforeWedding, DateTime afterWedding, DateTime beforeSpouse, DateTime afterSpouse, DateTime before4Month, DateTime after4Month, DateTime before6Month, DateTime after6Month, DateTime before8Month, DateTime after8Month, DateTime beforeExpDate, DateTime afterExpDate, <span style="color: #00aaaa;">bool</span> isActive, <span style="color: #00aaaa;">bool</span> isInactive, <span style="color: #00aaaa;">string</span> cardTypeList)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #00aaaa;">var</span> list = <span style="color: #0000aa;">new</span> GuestCalls();
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">try</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">using</span> (DbCommand dbCommand = _db.GetStoredProcCommand(<span style="color: #aa5500;">&quot;MemberCards_GetGuestCalls&quot;</span>))
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isEAChecked&quot;</span>, DbType.Boolean, isEUChecked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isWeddingChecked&quot;</span>, DbType.Boolean, isWeddingChecked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isSpouseDOBChecked&quot;</span>, DbType.Boolean, isSpouseDOBChecked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isBDChecked&quot;</span>, DbType.Boolean, isBDChecked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@is4Checked&quot;</span>, DbType.Boolean, is4Checked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@is6Checked&quot;</span>, DbType.Boolean, is6MonthChecked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@is8Checked&quot;</span>, DbType.Boolean, is8Checked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isExpDateChecked&quot;</span>, DbType.Boolean, isExpDateChecked);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@beforeEU&quot;</span>, DbType.Date, beforeEU);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@afterEU&quot;</span>, DbType.Date, afterEU);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@beforeBD&quot;</span>, DbType.Date, beforeBD);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@afterBD&quot;</span>, DbType.Date, afterBD);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@beforeWD&quot;</span>, DbType.Date, beforeWedding);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@afterWD&quot;</span>, DbType.Date, afterWedding);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@beforeSpouse&quot;</span>, DbType.Date, beforeSpouse);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@afterSpouse&quot;</span>, DbType.Date, afterSpouse);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@before4Months&quot;</span>, DbType.Date, before4Month);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@after4Months&quot;</span>, DbType.Date, after4Month);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@before6Months&quot;</span>, DbType.Date, before6Month);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@after6Months&quot;</span>, DbType.Date, after6Month);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@before8Months&quot;</span>, DbType.Date, before8Month);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@after8Months&quot;</span>, DbType.Date, after8Month);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@beforeExpDate&quot;</span>, DbType.Date, beforeExpDate);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@afterExpDate&quot;</span>, DbType.Date, afterExpDate);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isActive&quot;</span>, DbType.Boolean, isActive);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@isInactive&quot;</span>, DbType.Boolean, isInactive);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;_db.AddInParameter(dbCommand, <span style="color: #aa5500;">&quot;@CardTypeList&quot;</span>, DbType.String, cardTypeList);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #aaaaaa; font-style: italic;">// list.Clear();</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">using</span> (IDataReader reader = _db.ExecuteReader(dbCommand))
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">while</span> (reader.Read())
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #00aaaa;">var</span> item = <span style="color: #0000aa;">new</span> GuestCall();
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.TransId = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Trans_ID&quot;</span>)) ? -<span style="color: #009999;">1</span> : reader.GetInt32(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Trans_ID&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.LeadId = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Lead_ID&quot;</span>)) ? -<span style="color: #009999;">1</span> : reader.GetInt32(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Lead_ID&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.CardId = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Card_ID&quot;</span>)) ? <span style="color: #00aaaa;">string</span>.Empty : reader.GetString(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Card_ID&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #aaaaaa; font-style: italic;">//if (item.CardId == &quot;H101289&quot;)</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #aaaaaa; font-style: italic;">//{</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #aaaaaa; font-style: italic;">//}</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableEU= &#160;(!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;EU&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;EU&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneEU = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneEU&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneEU&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableBD = &#160;(!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;BD&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;BD&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneBD = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneBD&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneBD&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableSpouse = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Spouse&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Spouse&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneSpouse = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneSpouse&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneSpouse&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableWedding = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Wedding&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Wedding&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneWedding = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneWedding&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneWedding&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableFourMonth = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;4Month&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;4Month&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneFourMonth = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Done4Month&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Done4Month&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableSixMonth = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;6Month&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;6Month&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneSixMonth = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Done6Month&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Done6Month&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableEightMonth= &#160;(!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;8Month&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;8Month&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneEightMonth = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Done8Month&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Done8Month&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableExpDate = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;ExpDate&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;ExpDate&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneExpDate = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneExpDate&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneExpDate&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.EnableOther = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Other&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Other&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.DoneOther = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneOther&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;DoneOther&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Notes = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Notes&quot;</span>)) ? <span style="color: #00aaaa;">string</span>.Empty : reader.GetString(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Notes&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Status = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Status&quot;</span>)) ? <span style="color: #00aaaa;">string</span>.Empty : reader.GetString(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Status&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.ExpiryDate = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Expiry_Date&quot;</span>)) ? <span style="color: #0000aa;">default</span>(DateTime?) : reader.GetDateTime(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Expiry_Date&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Profile.LeadName = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Lead_Name&quot;</span>)) ? <span style="color: #00aaaa;">string</span>.Empty : reader.GetString(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Lead_Name&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Profile.MobileNo = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Mobile_No&quot;</span>)) ? <span style="color: #00aaaa;">string</span>.Empty : reader.GetString(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Mobile_No&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Profile.Birthday = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Birthday&quot;</span>)) ? <span style="color: #0000aa;">default</span>(DateTime?) : reader.GetDateTime(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Birthday&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Profile.SpouseDOB = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;SpouseDOB&quot;</span>)) ? <span style="color: #0000aa;">default</span>(DateTime?) : reader.GetDateTime(reader.GetOrdinal(<span style="color: #aa5500;">&quot;SpouseDOB&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Profile.Anniversary = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Anniversary&quot;</span>)) ? <span style="color: #0000aa;">default</span>(DateTime?) : reader.GetDateTime(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Anniversary&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.CreatedDate = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Created_Date&quot;</span>)) ? DateTime.MinValue : reader.GetDateTime(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Created_Date&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.CallDate = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Call_Date&quot;</span>)) ? DateTime.Now : reader.GetDateTime(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Call_Date&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.CreatedBy = (reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Created_By&quot;</span>)) ? <span style="color: #00aaaa;">string</span>.Empty : reader.GetString(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Created_By&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;item.Active = (!reader.IsDBNull(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Active&quot;</span>)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(<span style="color: #aa5500;">&quot;Active&quot;</span>)));
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">if</span> (item.Profile.Birthday == <span style="color: #0000aa;">new</span> DateTime(<span style="color: #009999;">2012</span>, <span style="color: #009999;">09</span>, <span style="color: #009999;">10</span>))
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">if</span> (item.Active)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #aaaaaa; font-style: italic;">// item.IsDirtySave = (!reader.IsDBNull(reader.GetOrdinal(&quot;IsDirtySave&quot;)) &amp;&amp; reader.GetBoolean(reader.GetOrdinal(&quot;IsDirtySave&quot;)));</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #aaaaaa; font-style: italic;">//item.IsNewTrans = item.Active || item.IsDirtySave;</span>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;list.Add(item);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">catch</span> (Exception ex)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ExceptionHandleManagement.ThrowException(RepositoryMessage.GetGetGuestCallMsg, ex);
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: #0000aa;">return</span> list;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</pre>
</div>
</body>
</html>
